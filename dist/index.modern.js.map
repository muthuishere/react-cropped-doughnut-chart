{"version":3,"file":"index.modern.js","sources":["../src/core/calculations.js","../src/core/elements.js","../src/core/HtmlContainerElement.js","../src/core/formatter.js","../src/core/elementCreator.js","../src/core/SliceElement.js","../src/core/DoughnutElement.js","../src/index.js"],"sourcesContent":["export function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n  /**\n   * Convert a polar coordinate (r,theta) to cartesian (x,y). The calculations are x=r*cos(theta) and y=r*sin(theta).\n   * This Method is used in the DoughnutChart. to calculate the x,y position from center of a sliceElement.\n   * Usually in Math the origin is Zero, Since the center of the doughnut is the origin, the centerX and centerY are added to the result.\n   * @param centerX - Center of Circle X\n   * @param centerY - Center of Circle Y\n   * @param radius  - Radius of Circle\n   * @param angleInDegrees - Angle in Degrees\n   * @returns {{x: *, y: *}}\n   */\n  var angleInRadians = ((angleInDegrees - 90) * Math.PI) / 180.0\n\n  return {\n    x: centerX + radius * Math.cos(angleInRadians),\n    y: centerY + radius * Math.sin(angleInRadians)\n  }\n}\n\n/**\n * Get Drawing Coordinates for an Arc , The arc is a fully closed area in a circle\n *  The arc is drawn from the startAngle to the endAngle\n * The arc is drawn in the clockwise direction\n * @param x - Center of Circle X\n * @param y - Center of Circle Y\n * @param startAngle - Start Angle in Degrees\n * @param endAngle - End Angle in Degrees\n * @param radius - Radius of Circle\n */\nexport function drawingCoordinatesinCircle(\n  { x, y },\n  { startAngle, endAngle },\n  radius\n) {\n  const startPoint = polarToCartesian(x, y, radius, startAngle)\n  const endPoint = polarToCartesian(x, y, radius, endAngle)\n\n  const arcSweep = endAngle - startAngle <= 180 ? '0' : '1'\n\n  const d = [\n    'M',    endPoint.x,    endPoint.y,\n    'A',    radius,    radius,    0,    arcSweep,    0,    startPoint.x,    startPoint.y,\n    'L',    x,    y,\n    'L',    endPoint.x,    endPoint.y\n  ].join(' ')\n\n  return d\n}\n\nexport function drawingCoordinatesBetweenInnerAndOuterCircle(\n  { innerRadius, outerRadius },\n  { startAngle, endAngle },\n  { x, y }\n) {\n  const middleRadius = innerRadius + (outerRadius - innerRadius) / 2\n\n  const drawingCoordinatesForText = drawingCoordinatesForTextPosition(\n    { x, y },\n    {\n      startAngle,\n      endAngle: endAngle\n    },\n    middleRadius\n  )\n  return drawingCoordinatesForText\n}\n\n\nexport function drawingCoordinatesForTextPosition(\n  { x, y },\n  { startAngle, endAngle },\n  radius\n) {\n  const startPoint = polarToCartesian(x, y, radius, startAngle)\n  const endPoint = polarToCartesian(x, y, radius, endAngle)\n\n  const arcSweep = endAngle - startAngle <= 180 ? '0' : '1'\n\n  const d = [\n    'M',    endPoint.x,    endPoint.y,\n    'A',    radius,    radius,    0,    arcSweep,    0,    startPoint.x,    startPoint.y\n\n  ].join(' ')\n\n  return d\n}\n","import { drawingCoordinatesinCircle } from \"./calculations\";\n\nexport const SVG_NAMESPACE = 'http://www.w3.org/2000/svg'\nexport function createElement(name, attribs) {\n  const xmlns = SVG_NAMESPACE\n  const svgElem = document.createElementNS(xmlns, name)\n\n  attribs.forEach(([name, value]) => svgElem.setAttributeNS(null, name, value))\n\n  return svgElem\n}\n\nexport function createHtmlElement(name, attribs) {\n  const element = document.createElement(name)\n\n  attribs.forEach(([name, value]) => element.setAttribute(name, value))\n\n  return element\n}\n\n\nexport function setAttributeForSvg(element, name, value) {\n  element.setAttributeNS(null, name, value)\n}\n\n\n\nexport function insertStyles() {\n  if(document.head.querySelector(\"#doughnut-cropped-chart-styles\")) {\n    return\n  }\n  var styles = `\n        a:hover .path-container {\n            opacity: 0.5;\n            transition: all ease 0.3s;\n        }\n        a .path-container {\n            opacity: 1.0;\n            transition: all ease 0.3s;\n        }\n`\n\n  var styleSheet = document.createElement('style')\n  styleSheet.setAttribute('type', 'text/css')\n  styleSheet.setAttribute('id', 'doughnut-cropped-chart-styles')\n\n  styleSheet.innerHTML = styles\n  document.head.appendChild(styleSheet)\n}\n\n","import { createElement, createHtmlElement } from './elements'\n\nexport const PADDING_RATIO = 0.8\nexport function getHtmlContainerElement({ x, y }, radius, imgUrl, title, textColor) {\n  // let {x,y} = polarToCartesian(centerX, centerY, radius, 90);\n\n  const mainElement = createHtmlElement('div', [\n    [\n      'style',\n      'display: table-cell; text-align: center; vertical-align: middle;color:' +\n        textColor +\n        ';'\n    ]\n  ])\n  const paddedRadius = radius * PADDING_RATIO\n\n  const imgElement = createHtmlElement('img', [\n    ['src', imgUrl],\n    ['width', paddedRadius],\n    ['height', paddedRadius]\n  ])\n  const breakElement = createHtmlElement('br', [])\n  mainElement.appendChild(imgElement)\n  mainElement.appendChild(breakElement)\n  mainElement.innerHTML += title\n\n  const container = createHtmlElement('div', [\n    ['style', 'display: table; font-size: 24px; width: 100%; height: 100%;']\n  ])\n  container.appendChild(mainElement)\n\n  const paddedX = x - paddedRadius\n  const paddedY = y - paddedRadius\n  // y = centerY + radius;\n  const width = paddedRadius * 2\n  const height = paddedRadius * 2\n  //  <foreignObject x=\"20\" y=\"20\" width=\"160\" height=\"160\">\n  const foreignObject = createElement('foreignObject', [\n    ['x', paddedX],\n    ['y', paddedY],\n    ['width', width],\n    ['height', height]\n  ])\n\n  foreignObject.appendChild(container)\n\n  return foreignObject\n}\n","const colors = [\n  '#FF0000',\n  '#FF7F00',\n  '#FFFF00',\n  '#00FF00',\n  '#00FFFF',\n  '#0000FF',\n  '#8B00FF'\n]\nfunction formatLabel(item) {\n  const { label } = item\n  if (label) return item\n  else\n    return {\n      ...item,\n      label: `${item.value}`\n    }\n}\n\nfunction formatColor(item, index) {\n  const { color } = item\n  if (color) return item\n  else\n    return {\n      ...item,\n      color: colors[index]\n    }\n}\n\nexport function formatToArrayOfObjects(inputItems) {\n  const isNumber = (currentValue) => typeof currentValue === 'number'\n  const isAllNumbers = inputItems.every(isNumber)\n  let items = inputItems\n  if (isAllNumbers) {\n    items = inputItems.map((item) => ({ value: item }))\n  }\n  return items\n}\nexport function reverseString(str) {\n  return str.split(\"\").reverse().join(\"\");\n}\nexport function formatItems(inputItems, defaultLabelColor) {\n  const items = formatToArrayOfObjects(inputItems)\n\n  const hasValueProperty = (currentValue) => null != currentValue.value\n  const isAllValid = items.every(hasValueProperty)\n  if (!isAllValid) {\n    throw new Error('Invalid Data Found, All items must have a value property')\n  }\n\n\n  const formatLabelColorWithDefault =(item)=>formatLabelColor(item, defaultLabelColor)\n\n  const total = items.reduce((acc, item) => acc + item.value, 0)\n  return items\n    .map((item) => ({\n      ...item,\n      percentage: (item.value / total) * 100\n    }))\n    .map(formatLabel)\n    .map(formatColor)\n    .map(formatLabelColorWithDefault)\n}\n function formatLabelColor(item,defaultLabelColor) {\n\n  return {\n      ...{labelColor:defaultLabelColor},\n      ...item\n    }\n\n}\n\n","import { drawingCoordinatesinCircle } from \"./calculations\";\nimport { createElement } from \"./elements\";\n\nexport function createArc(containerAttributes, point, angles, radius) {\n  const innerArc = createElement(\"path\", containerAttributes);\n  const innerArcData = drawingCoordinatesinCircle(point, angles, radius);\n  innerArc.setAttributeNS(null, \"d\", innerArcData);\n  return innerArc;\n}\n","import { createElement } from './elements'\nimport {\n  drawingCoordinatesBetweenInnerAndOuterCircle\n\n} from './calculations'\nimport { reverseString } from './formatter'\nimport { createArc } from './elementCreator'\nfunction createArcForSlice(point, angles, radius, color) {\n  const containerAttributes = [\n    ['fill', color],\n    ['stroke', 'none'],\n    ['class', 'path-container'],\n    ['stroke-width', '0']\n  ]\n  const arc = createArc(containerAttributes, point, angles, radius);\n  const animateElement = createElement('animate', [\n    ['attributeName', 'fill'],\n    ['attributeType', 'XML'],\n    ['from', 'black'],\n    ['to', color],\n    ['dur', '2s'],\n    ['repeatCount', '1']\n\n\n  ]);\n  // <animateColor attributeName=\"fill\" attributeType=\"XML\"\n  //               from=\"black\" to=\"red\" dur=\"6s\" repeatCount=\"indefinite\"/>\n  arc.appendChild(animateElement);\n  return arc\n}\n\nfunction createTextDefinition(textId, innerAndOuterRadius, angles, point) {\n  const textPathDefinitionElement = createElement('defs', [])\n\n  const pathToDrawTextElement = createElement('path', [\n    ['id', textId],\n    ['stroke-width', '0']\n  ])\n  textPathDefinitionElement.appendChild(pathToDrawTextElement)\n  const drawingCoordinatesForText =\n    drawingCoordinatesBetweenInnerAndOuterCircle(\n      innerAndOuterRadius,\n      angles,\n      point\n    )\n  pathToDrawTextElement.setAttributeNS(null, 'd', drawingCoordinatesForText)\n  return textPathDefinitionElement\n}\n\nfunction createTextElement(textId, { label, labelSize, labelColor }) {\n  const textElement = createElement('text', [\n    ['font-size', labelSize + 'px'],\n    ['fill', labelColor],\n    ['rotate', '180']\n  ])\n  const textPathElement = createElement('textPath', [\n    ['href', '#' + textId],\n    ['text-anchor', 'middle'],\n    ['startOffset', '50%']\n  ])\n\n  // 180 degree reverses stuff\n  textPathElement.innerHTML = reverseString(label)\n  textElement.appendChild(textPathElement)\n  return textElement\n}\n\nfunction getTextElements(\n  id,\n  { label, labelSize, labelColor },\n  innerAndOuterRadius,\n  angles,\n  point\n) {\n  const textId = 'text' + id\n  const textPositionPathElement = createTextDefinition(\n    textId,\n    innerAndOuterRadius,\n    angles,\n    point\n  )\n  const textElement = createTextElement(textId, {\n    label,\n    labelSize,\n    labelColor\n  })\n\n  return {\n    textPositionPathElement,\n    textElement\n  }\n}\nexport function getRandomSixDigitString() {\n  const str = '' + Math.floor(Math.random() * (999999 - 1)) + 1\n  return str.padStart(6, '0')\n}\n\n// export function sliceElement(\n//   { startAngle, endAngle },\n//   { label, item, color },\n//   { x, y },\n//   { innerRadius, outerRadius }\n// )\n\nexport function getSliceElement(\n  angles,\n  { label, value, color,labelColor },\n  point,\n  { innerRadius, outerRadius },\n  { labelSize }\n) {\n  const id = 'box' + value + getRandomSixDigitString()\n  const container = createElement('a', [\n    ['id', 'container' + id],\n    ['href', '#'],\n    ['style', 'text-decoration: none;']\n  ])\n\n    //<title>I'm a circle</title>\n  const titleElement = createElement('title', [])\n  titleElement.innerHTML = label;\n\n  container.appendChild(titleElement)\n  const arc = createArcForSlice(point, angles, outerRadius, color)\n\n  container.appendChild(arc)\n  const { textPositionPathElement, textElement } = getTextElements(\n    id,\n    { label, labelSize, labelColor },\n    { innerRadius, outerRadius },\n    angles,\n    point\n  )\n  container.appendChild(textPositionPathElement)\n  container.appendChild(textElement);\n\n\n  return container\n}\n","import { createElement, insertStyles } from \"./elements\";\nimport { getHtmlContainerElement } from './HtmlContainerElement'\nimport { getSliceElement } from './SliceElement'\nimport { formatItems } from './formatter'\nimport { createArc } from './elementCreator'\n\nfunction createArcForOverAllContainer(className, point, angles, radius) {\n  const containerAttributes = [\n    ['fill', 'none'],\n    ['stroke', 'none'],\n    ['class', className],\n    ['stroke-width', '0']\n  ]\n  return createArc(containerAttributes, point, angles, radius)\n}\n\nconst thicknessWithRatio = {\n  XXL: 125,\n  XL: 100,\n  L: 75,\n  M: 50,\n  S: 35\n}\n\nconst sizeWithAngles = {\n  XXL: [261, 460],\n  XL: [241, 480],\n  L: [221, 500],\n  M: [201, 520],\n  S: [181, 540]\n}\nconst colors = [\n  '#FF0000',\n  '#FF7F00',\n  '#FFFF00',\n  '#00FF00',\n  '#00FFFF',\n  '#0000FF',\n  '#8B00FF'\n]\n\nfunction getCircle({ x, y }, radius, defaultcolor) {\n  return createElement('circle', [\n    ['cx', x],\n    ['cy', y],\n    ['r', radius],\n    ['fill', defaultcolor]\n  ])\n}\n\nexport function DoughnutElement(items, options) {\n  insertStyles()\n  const defaultOptions = {\n    radius: 100,\n    title: '',\n    titleColor: '#FF0000',\n    thicknessSize: 'M',\n    gapSize: 'XL',\n    labelSize: 12,\n    labelColor: 'white',\n    backgroundColor: 'white',\n    imgUrl:\n      'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'\n  }\n\n  const formattedOptions = { ...defaultOptions, ...options }\n\n  const {\n    radius,\n    title,\n    thicknessSize,\n    gapSize,\n    backgroundColor,\n    imgUrl,\n    titleColor,\n    labelSize,\n    labelColor\n  } = formattedOptions\n  const thicknessOfCircle = thicknessWithRatio[thicknessSize]\n  const totalSize = (radius + thicknessOfCircle) * 2\n  const x = totalSize / 2\n  const y = totalSize / 2\n  const outerRadius = radius + thicknessOfCircle\n  const sizeWithAngle = sizeWithAngles[gapSize]\n  const [startAngle, endAngle] = sizeWithAngle\n  const total = (endAngle - startAngle) / 100\n  const percentageToDegree = (percent) => percent * total\n\n  const container = createElement('g', [])\n  const innerArc = createArcForOverAllContainer(\n    'overall-inner-container',\n    { x, y },\n    { startAngle, endAngle },\n    radius\n  )\n  const outerArc = createArcForOverAllContainer(\n    'overall-outer-container',\n    { x, y },\n    { startAngle, endAngle },\n    outerRadius\n  )\n\n  container.appendChild(outerArc)\n  container.appendChild(innerArc)\n\n  let initAngle = startAngle\n\n  const formattedItems = formatItems(items, labelColor)\n\n  formattedItems.forEach((item, index) => {\n    const { label, value, color, percentage } = item\n\n    const endAngle = initAngle + percentageToDegree(percentage)\n\n    const currentBoxElement = getSliceElement(\n      { startAngle: initAngle, endAngle },\n      item,\n      { x, y },\n      { innerRadius: radius, outerRadius: outerRadius },\n      { labelSize, labelColor }\n    )\n\n    container.appendChild(currentBoxElement)\n    initAngle = endAngle\n  })\n\n  const htmlContainerElement = getHtmlContainerElement(\n    { x, y },\n    radius,\n    imgUrl,\n    title,\n    titleColor\n  )\n  const backgroundCircle = getCircle({ x, y }, radius, backgroundColor)\n\n  container.appendChild(backgroundCircle)\n  container.appendChild(htmlContainerElement)\n\n  const root = createElement('svg', [\n    ['width', totalSize],\n    ['height', totalSize]\n  ])\n  root.appendChild(container)\n  // return root.outerHTML\n  return root\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { DoughnutElement } from \"./core/DoughnutElement\";\n\nexport const CroppedDoughnutChart = ({ items,options }) => {\n\n\n  const svg = useRef(null);\n\n\n  useEffect(() => {\n\n\n\n\n    const result= DoughnutElement(items,options )\n\n    if(svg.current){\n      svg.current.appendChild(result)\n    }\n\n\n  }, [])\n\n  // return   <div dangerouslySetInnerHTML={{ __html: state }} />\n  return   <div ref={svg}/>\n\n\n}\n"],"names":["polarToCartesian","centerX","centerY","radius","angleInDegrees","angleInRadians","Math","PI","x","cos","y","sin","drawingCoordinatesinCircle","startAngle","endAngle","startPoint","endPoint","arcSweep","d","join","drawingCoordinatesBetweenInnerAndOuterCircle","innerRadius","outerRadius","middleRadius","drawingCoordinatesForText","drawingCoordinatesForTextPosition","SVG_NAMESPACE","createElement","name","attribs","xmlns","svgElem","document","createElementNS","forEach","value","setAttributeNS","createHtmlElement","element","setAttribute","insertStyles","head","querySelector","styles","styleSheet","innerHTML","appendChild","PADDING_RATIO","getHtmlContainerElement","imgUrl","title","textColor","mainElement","paddedRadius","imgElement","breakElement","container","paddedX","paddedY","width","height","foreignObject","colors","formatLabel","item","label","formatColor","index","color","formatToArrayOfObjects","inputItems","isNumber","currentValue","isAllNumbers","every","items","map","reverseString","str","split","reverse","formatItems","defaultLabelColor","hasValueProperty","isAllValid","Error","formatLabelColorWithDefault","formatLabelColor","total","reduce","acc","percentage","labelColor","createArc","containerAttributes","point","angles","innerArc","innerArcData","createArcForSlice","arc","animateElement","createTextDefinition","textId","innerAndOuterRadius","textPathDefinitionElement","pathToDrawTextElement","createTextElement","labelSize","textElement","textPathElement","getTextElements","id","textPositionPathElement","getRandomSixDigitString","floor","random","padStart","getSliceElement","titleElement","createArcForOverAllContainer","className","thicknessWithRatio","XXL","XL","L","M","S","sizeWithAngles","getCircle","defaultcolor","DoughnutElement","options","defaultOptions","titleColor","thicknessSize","gapSize","backgroundColor","formattedOptions","thicknessOfCircle","totalSize","sizeWithAngle","percentageToDegree","percent","outerArc","initAngle","formattedItems","currentBoxElement","htmlContainerElement","backgroundCircle","root","CroppedDoughnutChart","svg","useRef","useEffect","result","current"],"mappings":"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"}