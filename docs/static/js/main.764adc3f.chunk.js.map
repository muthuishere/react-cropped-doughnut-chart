{"version":3,"sources":["../../src/core/builder/elements.js","../../src/core/shared/formatter.js","../../src/core/shared/randomizer.js","../../src/core/draw/calculations.js","../../src/core/draw/arc.js","../../src/core/components/Animator.js","../../src/core/shared/config.js","../../src/core/draw/textInArc.js","../../src/core/components/Slice.js","../../src/core/HorseShoeChartCreator.js","../../src/core/components/TitleContainer.js","../../src/index.js","AnotherApp.js","App.js","index.js"],"names":["createElement","name","attribs","svgElem","document","value","createHtmlElement","element","colors","formatLabel","item","label","formatColor","index","color","formatItems","inputItems","defaultLabelColor","items","isAllNumbers","currentValue","formatToArrayOfObjects","Error","total","acc","percentage","labelColor","formatLabelColor","formatSliceId","id","Math","str","formatSlicePreviousId","array","previousId","polarToCartesian","centerX","centerY","radius","angleInDegrees","angleInRadians","x","y","drawingCoordinatesBetweenInnerAndOuterCircle","innerRadius","outerRadius","startAngle","endAngle","startPoint","endPoint","arcSweep","drawingCoordinatesForTextPosition","createArc","containerAttributes","point","angles","innerArc","innerArcData","coordinatesForArc","createArcForSlice","strokeArray","getBorderAnimation","animatedMaskArc","animateElement","duration","createArcAnimation","animationDurationInSeconds","getCenterTitleAnimation","animatedMaskCircle","createCircle","createOpacityAnimation","createHoverFilter","filter","desc","fegaussianBlur","defs","thicknessWithRatio","XXL","XL","L","M","S","sizeWithAngles","getTextElements","labelSize","textId","textPositionPathElement","innerAndOuterRadius","textPathDefinitionElement","pathToDrawTextElement","drawingCoordinatesForText","createTextDefinition","textElement","textPathElement","createTextElement","container","getSliceElement","titleElement","createTitle","arc","textContainer","HorseShoeChartCreator","options","mergedOptions","showAnimation","title","titleColor","thicknessSize","gapSize","showGlow","backgroundColor","imageUrl","formattedOptions","String","Number","thicknessOfCircle","totalSize","getPoint","sizeWithAngle","centerTitleContainer","mainElement","paddedRadius","imgElement","breakElement","foreignObject","getTitleContainer","currentAngle","formattedItems","console","filterElement","currentBoxElement","borderAnimation","centerTitleAnimation","root","createSVGRoot","styleElement","result","getChartStyleElement","HorseShoeChart","svg","useRef","useEffect","ref","AnotherApp","className","DynamicImage","defaultItems","defaultOptions","JSON","stringify","useState","setItems","setOptions","availableOptions","imgUrl","formik","useFormik","initialValues","onSubmit","values","log","updatedOptions","parse","handleSubmit","Object","keys","map","key","htmlFor","type","onChange","handleChange","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.764adc3f.chunk.js","sourcesContent":["export const SVG_NAMESPACE = 'http://www.w3.org/2000/svg'\r\nexport function createElement(name, attribs) {\r\n  const xmlns = SVG_NAMESPACE\r\n  const svgElem = document.createElementNS(xmlns, name)\r\n\r\n  attribs.forEach(([name, value]) => svgElem.setAttributeNS(null, name, value))\r\n\r\n  return svgElem\r\n}\r\n\r\nexport function createHtmlElement(name, attribs) {\r\n  const element = document.createElement(name)\r\n\r\n  attribs.forEach(([name, value]) => element.setAttribute(name, value))\r\n\r\n  return element\r\n}\r\n\r\nexport function setAttributeForSvg(element, name, value) {\r\n  element.setAttributeNS(null, name, value)\r\n}\r\n\r\nexport function insertStyles(styles) {\r\n  if (document.head.querySelector('#doughnut-cropped-chart-styles')) {\r\n    return\r\n  }\r\n  var styleSheet = document.createElement('style')\r\n  styleSheet.setAttribute('type', 'text/css')\r\n  styleSheet.setAttribute('id', 'doughnut-cropped-chart-styles')\r\n\r\n  styleSheet.innerHTML = styles\r\n  document.head.appendChild(styleSheet)\r\n}\r\n\r\nexport function createContainer() {\r\n  const container = createElement('g', [])\r\n  return container\r\n}\r\nexport function createCircle({ x, y }, radius, defaultcolor) {\r\n  return createElement('circle', [\r\n    ['cx', x],\r\n    ['cy', y],\r\n    ['r', radius],\r\n    ['fill', defaultcolor]\r\n  ])\r\n}\r\n\r\nexport function createDefinitionBlock() {\r\n  return createElement('defs', [])\r\n}\r\n\r\nexport function createGroupElement() {\r\n  return createElement('g', [])\r\n}\r\n\r\nexport function createSVGRoot(totalSize) {\r\n  return createElement('svg', [\r\n    ['width', totalSize],\r\n    ['height', totalSize]\r\n  ])\r\n}\r\n\r\nexport function createTitle(label) {\r\n  const titleElement = createElement('title', [])\r\n  titleElement.innerHTML = label\r\n  return titleElement\r\n}\r\n","import { getRandomSixDigitString } from './randomizer'\r\n\r\nconst colors = [\r\n  '#FF0000',\r\n  '#FF7F00',\r\n  '#FFFF00',\r\n  '#00FF00',\r\n  '#00FFFF',\r\n  '#0000FF',\r\n  '#8B00FF'\r\n]\r\n\r\nfunction formatLabel(item) {\r\n  const { label } = item\r\n  if (label) return item\r\n  else\r\n    return {\r\n      ...item,\r\n      label: `${item.value}`\r\n    }\r\n}\r\n\r\nfunction formatColor(item, index) {\r\n  const { color } = item\r\n  if (color) return item\r\n  else\r\n    return {\r\n      ...item,\r\n      color: colors[index]\r\n    }\r\n}\r\n\r\nexport function formatToArrayOfObjects(inputItems) {\r\n  const isNumber = (currentValue) => typeof currentValue === 'number'\r\n  const isAllNumbers = inputItems.every(isNumber)\r\n  let items = inputItems\r\n  if (isAllNumbers) {\r\n    items = inputItems.map((item) => ({ value: item }))\r\n  }\r\n  return items\r\n}\r\n\r\nexport function reverseString(str) {\r\n  return str.split('').reverse().join('')\r\n}\r\n\r\nexport function formatItems(inputItems, defaultLabelColor) {\r\n  const items = formatToArrayOfObjects(inputItems)\r\n\r\n  const hasValueProperty = (currentValue) => currentValue.value != null\r\n  const isAllValid = items.every(hasValueProperty)\r\n  if (!isAllValid) {\r\n    throw new Error('Invalid Data Found, All items must have a value property')\r\n  }\r\n\r\n  const formatLabelColorWithDefault = (item) =>\r\n    formatLabelColor(item, defaultLabelColor)\r\n\r\n  const total = items.reduce((acc, item) => acc + item.value, 0)\r\n  return items\r\n    .map((item) => ({\r\n      ...item,\r\n      percentage: (item.value / total) * 100\r\n    }))\r\n    .map(formatLabel)\r\n    .map(formatColor)\r\n    .map(formatLabelColorWithDefault)\r\n    .map(formatSliceId)\r\n    .map(formatSlicePreviousId)\r\n}\r\n\r\nexport function formatLabelColor(item, defaultLabelColor) {\r\n  return {\r\n    ...{ labelColor: defaultLabelColor },\r\n    ...item\r\n  }\r\n}\r\n\r\nexport function formatSliceId(item) {\r\n  const { value } = item\r\n\r\n  const id = value + '' + getRandomSixDigitString()\r\n\r\n  return {\r\n    ...{ id: id },\r\n    ...item\r\n  }\r\n}\r\nexport function formatSlicePreviousId(item, index, array) {\r\n  // console.log(index)\r\n  // console.log(array)\r\n\r\n  const previousItem = array[index - 1]\r\n  const { id: previousId } = previousItem || { id: null }\r\n\r\n  return {\r\n    ...{ previousId: previousId },\r\n    ...item\r\n  }\r\n}\r\n","export function getRandomSixDigitString() {\r\n  const str = \"\" + Math.floor(Math.random() * (999999 - 1)) + 1;\r\n  return str.padStart(6, \"0\");\r\n}\r\n","/**\r\n * Convert a polar coordinate (r,theta) to cartesian (x,y). The calculations are x=r*cos(theta) and y=r*sin(theta).\r\n * This Method is used in the DoughnutChart. to calculate the x,y position from center of a sliceElement.\r\n * Usually in Math the origin is Zero, Since the center of the doughnut is the origin, the centerX and centerY are added to the result.\r\n * @param centerX - Center of Circle X\r\n * @param centerY - Center of Circle Y\r\n * @param radius  - Radius of Circle\r\n * @param angleInDegrees - Angle in Degrees\r\n * @returns {{x: *, y: *}}\r\n */\r\nexport function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\r\n\r\n  var angleInRadians = ((angleInDegrees - 90) * Math.PI) / 180.0\r\n\r\n  return {\r\n    x: centerX + radius * Math.cos(angleInRadians),\r\n    y: centerY + radius * Math.sin(angleInRadians)\r\n  }\r\n}\r\n\r\n\r\nexport function drawingCoordinatesBetweenInnerAndOuterCircle(\r\n  { innerRadius, outerRadius },\r\n  { startAngle, endAngle },\r\n  { x, y }\r\n) {\r\n  const middleRadius = innerRadius + (outerRadius - innerRadius) / 2 -20\r\n\r\n  const drawingCoordinatesForText = drawingCoordinatesForTextPosition(\r\n    { x, y },\r\n    {\r\n      startAngle,\r\n      endAngle: endAngle\r\n    },\r\n    middleRadius\r\n  )\r\n  return drawingCoordinatesForText\r\n}\r\n\r\n\r\nexport function drawingCoordinatesForTextPosition(\r\n  { x, y },\r\n  { startAngle, endAngle },\r\n  radius\r\n) {\r\n  const startPoint = polarToCartesian(x, y, radius, startAngle)\r\n  const endPoint = polarToCartesian(x, y, radius, endAngle)\r\n\r\n  const arcSweep = endAngle - startAngle <= 180 ? '0' : '1'\r\n\r\n  const d = [\r\n    'M',    endPoint.x,    endPoint.y,\r\n    'A',    radius,    radius,    0,    arcSweep,    0,    startPoint.x,    startPoint.y\r\n\r\n  ].join(' ')\r\n\r\n  return d\r\n}\r\n","import { polarToCartesian } from \"./calculations\";\r\nimport { createElement } from \"../builder/elements\";\r\n\r\n/**\r\n * Get Drawing Coordinates for an Arc , The arc is a fully closed area in a circle\r\n *  The arc is drawn from the startAngle to the endAngle\r\n * The arc is drawn in the clockwise direction\r\n * @param x - Center of Circle X\r\n * @param y - Center of Circle Y\r\n * @param startAngle - Start Angle in Degrees\r\n * @param endAngle - End Angle in Degrees\r\n * @param radius - Radius of Circle\r\n */\r\nexport function coordinatesForArc(\r\n  { x, y },\r\n  { startAngle, endAngle },\r\n  radius\r\n) {\r\n  const startPoint = polarToCartesian(x, y, radius, startAngle);\r\n  const endPoint = polarToCartesian(x, y, radius, endAngle);\r\n\r\n  const arcSweep = endAngle - startAngle <= 180 ? \"0\" : \"1\";\r\n\r\n  const d = [\r\n    \"M\", endPoint.x, endPoint.y,\r\n    \"A\", radius, radius, 0, arcSweep, 0, startPoint.x, startPoint.y\r\n  ].join(\" \");\r\n\r\n  return d;\r\n}\r\n\r\n\r\nexport function createArc(containerAttributes, point, angles, radius) {\r\n  const innerArc = createElement(\"path\", containerAttributes);\r\n  const innerArcData = coordinatesForArc(point, angles, radius);\r\n  innerArc.setAttributeNS(null, \"d\", innerArcData);\r\n  return innerArc;\r\n}\r\n\r\nexport function createArcForSlice(\r\n  point,\r\n  angles,\r\n  { outerRadius, innerRadius },\r\n  color\r\n  , strokeArray) {\r\n  const borderWidth = outerRadius - innerRadius;\r\n\r\n  const strokeData = strokeArray * -1;\r\n  const containerAttributes = [\r\n    [\"fill\", \"none\"],\r\n    [\"stroke\", color],\r\n    [\"stroke-width\", borderWidth],\r\n    [\"stroke-dashoffset\", \"\" + strokeData],\r\n    [\"stroke-dasharray\", \"\" + strokeArray],\r\n    [\"class\", \"path-container\"]\r\n  ];\r\n\r\n  return createArc(containerAttributes, point, angles, innerRadius);\r\n}\r\n","import {\r\n  createCircle,\r\n  createDefinitionBlock,\r\n  createElement\r\n} from '../builder/elements'\r\nimport { createArcForSlice } from '../draw/arc'\r\n\r\nexport function createArcAnimation(strokeArray, duration = '2s') {\r\n  const animateElement = createElement('animate', [\r\n    ['attributeType', 'CSS'],\r\n    ['attributeName', 'stroke-dashoffset'],\r\n    ['values', '0;' + strokeArray],\r\n    ['dur', duration],\r\n    ['fill', 'freeze']\r\n  ])\r\n  return animateElement\r\n}\r\n\r\nexport function createOpacityAnimation(duration) {\r\n  const animateElement = createElement('animate', [\r\n    ['attributeName', 'opacity'],\r\n    ['from', '1'],\r\n    ['to', '0'],\r\n    ['dur', duration],\r\n    ['begin', '.5s'],\r\n    ['fill', 'freeze'],\r\n    ['repeatCount', '1']\r\n  ])\r\n  return animateElement\r\n}\r\n\r\nexport function getBorderAnimation(\r\n  { x, y },\r\n  { innerRadius, outerRadius },\r\n  { startAngle, endAngle },\r\n  backgroundColor,\r\n  animationDurationInSeconds\r\n) {\r\n  const strokeArray = 900\r\n  const adjustedAngle = 20\r\n  const animatedMaskArc = createArcForSlice(\r\n    { x, y },\r\n    {\r\n      startAngle: startAngle - adjustedAngle,\r\n      endAngle: endAngle + adjustedAngle\r\n    },\r\n    {\r\n      innerRadius,\r\n      outerRadius: outerRadius + 10\r\n    },\r\n    backgroundColor,\r\n    strokeArray\r\n  )\r\n\r\n  animatedMaskArc.setAttribute('stroke-dashoffset', '0')\r\n  const animateElement = createArcAnimation(\r\n    strokeArray,\r\n    animationDurationInSeconds + 's'\r\n  )\r\n\r\n  animatedMaskArc.appendChild(animateElement)\r\n  return animatedMaskArc\r\n}\r\n\r\nexport function getCenterTitleAnimation(\r\n  { x, y },\r\n  radius,\r\n  backgroundColor,\r\n  animationDurationInSeconds\r\n) {\r\n  const animatedMaskCircle = createCircle({ x, y }, radius, backgroundColor)\r\n  const duration = animationDurationInSeconds + 1 + 's'\r\n  const animateElement = createOpacityAnimation(duration)\r\n\r\n  animatedMaskCircle.appendChild(animateElement)\r\n\r\n  return animatedMaskCircle\r\n}\r\n\r\n/**\r\n * Based on W3 Spec\r\n *  <defs>\r\n *     <filter id=\"MyFilter\" filterUnits=\"userSpaceOnUse\" x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">\r\n *      <desc>Produces a 3D lighting effect.</desc>\r\n *   <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"4\" result=\"blur\"/>\r\n *   <feOffset in=\"blur\" dx=\"4\" dy=\"4\" result=\"offsetBlur\"/>\r\n *   <feSpecularLighting in=\"blur\" surfaceScale=\"5\" specularConstant=\".5\"\r\n *                       specularExponent=\"20\" lighting-color=\"#bbbbbb\"\r\n *                       result=\"specOut\">\r\n *     <fePointLight x=\"-5000\" y=\"-10000\" z=\"20000\"/>\r\n *   </feSpecularLighting>\r\n *   <feComposite in=\"specOut\" in2=\"SourceAlpha\" operator=\"in\" result=\"specOut\"/>\r\n *   <feComposite in=\"SourceGraphic\" in2=\"specOut\" operator=\"arithmetic\"\r\n *                k1=\"0\" k2=\"1\" k3=\"1\" k4=\"0\" result=\"litPaint\"/>\r\n *\r\n *\r\n *     </filter>\r\n *   </defs>\r\n *\r\n */\r\n\r\nexport function createHoverFilter() {\r\n  const filter = createElement('filter', [\r\n    ['id', 'glowfilter'],\r\n    ['filterUnits', 'userSpaceOnUse'],\r\n    ['x', '0'],\r\n    ['y', '0'],\r\n    ['width', '100%'],\r\n    ['height', '100%']\r\n  ])\r\n\r\n  const desc = createElement('desc', [], 'Produces a 3D lighting effect.')\r\n  filter.appendChild(desc)\r\n\r\n  // <feMorphology operator=\"dilate\" radius=\"2\"/>\r\n  const fegaussianBlur = createElement('feMorphology', [\r\n    ['operator', 'dilate'],\r\n    ['radius', '2']\r\n  ])\r\n  filter.appendChild(fegaussianBlur)\r\n\r\n  const defs = createDefinitionBlock()\r\n  defs.appendChild(filter)\r\n  return defs\r\n}\r\n\r\nexport function create3deffect() {\r\n  const filter = createElement('filter', [\r\n    ['id', 'glowfilter'],\r\n    ['filterUnits', 'userSpaceOnUse'],\r\n    ['x', '0'],\r\n    ['y', '0'],\r\n    ['width', '100%'],\r\n    ['height', '100%']\r\n  ])\r\n\r\n  const desc = createElement('desc', [], 'Produces a 3D lighting effect.')\r\n  filter.appendChild(desc)\r\n  const fegaussianBlur = createElement('feGaussianBlur', [\r\n    ['in', 'SourceAlpha'],\r\n    ['stdDeviation', '4'],\r\n    ['result', 'blur']\r\n  ])\r\n  filter.appendChild(fegaussianBlur)\r\n  const feOffset = createElement('feOffset', [\r\n    ['in', 'blur'],\r\n    ['dx', '4'],\r\n    ['dy', '4'],\r\n    ['result', 'offsetBlur']\r\n  ])\r\n  filter.appendChild(feOffset)\r\n  const fepointLight = createElement('fePointLight', [\r\n    ['x', '-5000'],\r\n    ['y', '-10000'],\r\n    ['z', '20000']\r\n  ])\r\n  const feSpecularLighting = createElement('feSpecularLighting', [\r\n    ['in', 'blur'],\r\n    ['surfaceScale', '5'],\r\n    ['specularConstant', '.5'],\r\n    ['specularExponent', '20'],\r\n    ['lighting-color', '#bbbbbb'],\r\n    ['result', 'specOut']\r\n  ])\r\n  feSpecularLighting.appendChild(fepointLight)\r\n  filter.appendChild(feSpecularLighting)\r\n  const feCompositeSpecOut = createElement('feComposite', [\r\n    ['in', 'specOut'],\r\n    ['in2', 'SourceAlpha'],\r\n    ['operator', 'in'],\r\n    ['result', 'specOut']\r\n  ])\r\n  filter.appendChild(feCompositeSpecOut)\r\n  const feCompositeSourceGraphic = createElement('feComposite', [\r\n    ['in', 'SourceGraphic'],\r\n    ['in2', 'specOut'],\r\n    ['operator', 'arithmetic'],\r\n    ['k1', '0'],\r\n    ['k2', '1'],\r\n    ['k3', '1'],\r\n    ['k4', '0'],\r\n    ['result', 'litPaint']\r\n  ])\r\n  filter.appendChild(feCompositeSourceGraphic)\r\n  const defs = createDefinitionBlock()\r\n  defs.appendChild(filter)\r\n  return defs\r\n}\r\n","export const thicknessWithRatio = {\r\n  XXL: 150,\r\n  XL: 125,\r\n  L: 100,\r\n  M: 50,\r\n  S: 35\r\n}\r\n\r\nexport const sizeWithAngles = {\r\n  XXL: [261, 460],\r\n  XL: [241, 480],\r\n  L: [221, 500],\r\n  M: [201, 520],\r\n  S: [181, 540]\r\n}\r\nexport const colors = [\r\n  '#FF0000',\r\n  '#FF7F00',\r\n  '#FFFF00',\r\n  '#00FF00',\r\n  '#00FFFF',\r\n  '#0000FF',\r\n  '#8B00FF'\r\n]\r\n\r\nexport const chartStyles = `\r\n\r\n\r\n.description {\r\n  pointer-events: none;\r\n  position: absolute;\r\n  font-size: 18px;\r\n  text-align: center;\r\n  background: white;\r\n  padding: 10px 15px;\r\n  z-index: 5;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  margin: 0 auto;\r\n  color: #21669e;\r\n  border-radius: 5px;\r\n  box-shadow: 0 0 0 1px #eee;\r\n  -moz-transform: translateX(-50%);\r\n  -ms-transform: translateX(-50%);\r\n  -webkit-transform: translateX(-50%);\r\n  transform: translateX(-50%);\r\n  display: none;\r\n}\r\n.description.active {\r\n  display: block;\r\n}\r\n.description:after {\r\n  content: \"\";\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 100%;\r\n  width: 0;\r\n  height: 0;\r\n  margin-left: -10px;\r\n  border-left: 10px solid transparent;\r\n  border-right: 10px solid transparent;\r\n  border-top: 10px solid white;\r\n}\r\n\r\n\r\n.horse-chart-tooltip::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 100%;\r\n    left: 50%;\r\n    margin-left: -5px;\r\n    border-width: 5px;\r\n    border-style: solid;\r\n    border-color: cornsilk transparent transparent transparent;\r\n}\r\n.tooltip-animation-on\r\n{\r\n    display: block;\r\n\r\n    -webkit-animation: fadeInFromNone 0.5s ease-out;\r\n    -moz-animation: fadeInFromNone 0.5s ease-out;\r\n    -o-animation: fadeInFromNone 0.5s ease-out;\r\n    animation: fadeInFromNone 0.5s ease-out;\r\n}\r\n@keyframes fadeInFromNone {\r\n    0% {\r\n        display: none;\r\n        opacity: 0;\r\n    }\r\n\r\n    1% {\r\n        display: block;\r\n        opacity: 0;\r\n    }\r\n\r\n    100% {\r\n        display: block;\r\n        opacity: 1;\r\n    }\r\n}\r\n.tooltip-animation-off\r\n{\r\n    display: block;\r\n\r\n    -webkit-animation: fadeOutFromNone 0.5s ease-out;\r\n    -moz-animation: fadeOutFromNone 0.5s ease-out;\r\n    -o-animation: fadeOutFromNone 0.5s ease-out;\r\n    animation: fadeOutFromNone 0.5s ease-out;\r\n}\r\n@keyframes fadeOutFromNone {\r\n    0% {\r\n        display: block;\r\n        opacity: 1;\r\n    }\r\n\r\n    1% {\r\n        display: block;\r\n        opacity: 0;\r\n    }\r\n\r\n    100% {\r\n        display: none;\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n\r\n  foreignObject {\r\n    cursor: pointer;\r\n  }\r\n\r\n  a text {\r\n    transition: all 0.5s ease;\r\n    filter: ;\r\n    cursor: pointer;\r\n  }\r\n    a .path-container {\r\n\r\n      transition: all 0.5s ease;\r\n      filter: brightness(0.7);\r\n    }\r\n   a:hover .path-container {\r\n    cursor: pointer;\r\n    transition: all 0.5s ease;\r\n   filter:brightness(0.8);\r\n  }\r\n\r\n`\r\n\r\nexport const hoverStyles=`\r\n\r\n  a:hover .path-container {\r\n    cursor: pointer;\r\n    transition: all 0.5s ease;\r\n   filter:url(#glowfilter) brightness(1.0);\r\n  }\r\n\r\n  a:hover text {\r\n    transition: all 0.5s ease;\r\n    cursor: pointer;\r\n    font-weight: bold;\r\n  }\r\n`\r\n","import { createContainer, createElement } from \"../builder/elements\";\r\nimport { drawingCoordinatesBetweenInnerAndOuterCircle } from \"../draw/calculations\";\r\nimport { reverseString } from \"../shared/formatter\";\r\n\r\n\r\nfunction createTextDefinition(textId, innerAndOuterRadius, angles, point) {\r\n  const textPathDefinitionElement = createElement('defs', [])\r\n\r\n  const pathToDrawTextElement = createElement('path', [\r\n    ['id', textId],\r\n    ['stroke-width', '0']\r\n  ])\r\n  textPathDefinitionElement.appendChild(pathToDrawTextElement)\r\n  const drawingCoordinatesForText =\r\n    drawingCoordinatesBetweenInnerAndOuterCircle(\r\n      innerAndOuterRadius,\r\n      angles,\r\n      point\r\n    )\r\n  pathToDrawTextElement.setAttributeNS(null, 'd', drawingCoordinatesForText)\r\n  return textPathDefinitionElement\r\n}\r\n\r\nfunction createTextElement(textId, { label, labelSize, labelColor }) {\r\n  const textElement = createElement('text', [\r\n    ['font-size', labelSize + 'px'],\r\n    ['fill', labelColor],\r\n    ['rotate', '180']\r\n  ])\r\n  const textPathElement = createElement('textPath', [\r\n    ['href', '#' + textId],\r\n    ['text-anchor', 'middle'],\r\n    ['startOffset', '50%']\r\n  ])\r\n\r\n  // 180 degree reverses stuff\r\n  textPathElement.innerHTML = reverseString(label)\r\n  textElement.appendChild(textPathElement)\r\n  return textElement\r\n}\r\n\r\nexport function getTextElements(\r\n  id,\r\n  { label, labelSize, labelColor },\r\n  innerAndOuterRadius,\r\n  angles,\r\n  point\r\n) {\r\n  const textId = 'text' + id\r\n  const textPositionPathElement = createTextDefinition(\r\n    textId,\r\n    innerAndOuterRadius,\r\n    angles,\r\n    point\r\n  )\r\n  const textElement = createTextElement(textId, {\r\n    label,\r\n    labelSize,\r\n    labelColor\r\n  })\r\n\r\n  const container=createContainer();\r\n  container.appendChild(textPositionPathElement)\r\n  container.appendChild(textElement)\r\n  return  container;\r\n\r\n}\r\n","import { createElement, createTitle } from '../builder/elements'\r\nimport { createArcForSlice } from '../draw/arc'\r\nimport { getTextElements } from '../draw/textInArc'\r\n\r\nexport function getSliceElement(\r\n  angles,\r\n  { label, value, color, labelColor },\r\n  point,\r\n  { innerRadius, outerRadius },\r\n  { labelSize },\r\n  { id, previousId }\r\n) {\r\n  const containerId = 'box' + id\r\n  const sliceAttributes = [\r\n    ['id', 'container' + containerId],\r\n    ['class', 'slice-container'],\r\n    ['style', 'text-decoration: none;']\r\n  ]\r\n\r\n  const container = createElement('a', sliceAttributes)\r\n\r\n  container.appendChild(createTitle(label))\r\n  // setupToolTips(label, container);\r\n\r\n  const arc = createArcForSlice(\r\n    point,\r\n    angles,\r\n    { innerRadius, outerRadius },\r\n    color,\r\n    0\r\n  )\r\n\r\n  container.appendChild(arc)\r\n\r\n  const textContainer = getTextElements(\r\n    id,\r\n    { label, labelSize, labelColor },\r\n    { innerRadius, outerRadius },\r\n    angles,\r\n    point\r\n  )\r\n  container.appendChild(textContainer)\r\n\r\n  return container\r\n}\r\n","import {\r\n  createElement,\r\n  createGroupElement,\r\n  createSVGRoot\r\n} from './builder/elements'\r\n\r\nimport { formatItems } from './shared/formatter'\r\nimport {\r\n  createHoverFilter,\r\n  getBorderAnimation,\r\n  getCenterTitleAnimation\r\n} from './components/Animator'\r\nimport {\r\n  chartStyles, hoverStyles,\r\n  sizeWithAngles,\r\n  thicknessWithRatio\r\n} from \"./shared/config\";\r\nimport { getSliceElement } from './components/Slice'\r\nimport { getTitleContainer } from './components/TitleContainer'\r\n\r\nfunction getPoint(totalSize) {\r\n  const x = totalSize / 2\r\n  const y = totalSize / 2\r\n  return { x, y }\r\n}\r\n\r\nfunction getChartStyleElement({showGlow}) {\r\n\r\n  let result =\"\";\r\n  if(showGlow)\r\n    result = hoverStyles ;\r\n\r\n  const styleElement = createElement('style', [])\r\n  styleElement.innerHTML = result + chartStyles\r\n  return styleElement\r\n}\r\n\r\nexport function HorseShoeChartCreator(items, options) {\r\n  // insertStyles(chartStyles);\r\n  const defaultOptions = {\r\n    radius: 100,\r\n    showAnimation: false,\r\n    animationDurationInSeconds: 5,\r\n    title: '',\r\n    titleColor: '#FF0000',\r\n    thicknessSize: 'M',\r\n    gapSize: 'XL',\r\n    showGlow: false,\r\n    labelSize: 12,\r\n    labelColor: 'white',\r\n    backgroundColor: 'white',\r\n    imageUrl:\r\n      'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'\r\n  }\r\n\r\n  const mergedOptions = { ...defaultOptions, ...options }\r\n  const formattedOptions = {\r\n    ...mergedOptions,\r\n    showAnimation: String(mergedOptions.showAnimation) === 'true',\r\n    showGlow: String(mergedOptions.showGlow) === 'true',\r\n    radius: Number(mergedOptions.radius),\r\n    animationDurationInSeconds: Number(\r\n      mergedOptions.animationDurationInSeconds\r\n    ),\r\n    labelSize: Number(mergedOptions.labelSize)\r\n  }\r\n\r\n  const {\r\n    radius,\r\n    title,\r\n    showGlow,\r\n    thicknessSize,\r\n    showAnimation,\r\n    animationDurationInSeconds,\r\n    gapSize,\r\n    backgroundColor,\r\n    imageUrl,\r\n    titleColor,\r\n    labelSize,\r\n    labelColor\r\n  } = formattedOptions\r\n  const thicknessOfCircle = thicknessWithRatio[thicknessSize]\r\n  const totalSize = (radius + thicknessOfCircle) * 2\r\n\r\n  const { x, y } = getPoint(totalSize)\r\n\r\n  const outerRadius = radius + thicknessOfCircle\r\n  const sizeWithAngle = sizeWithAngles[gapSize]\r\n  const [startAngle, endAngle] = sizeWithAngle\r\n  const total = (endAngle - startAngle) / 100\r\n  const percentageToDegree = (percent) => percent * total\r\n\r\n  const container = createGroupElement()\r\n\r\n  const centerTitleContainer = getTitleContainer(\r\n    { x, y },\r\n    radius,\r\n    imageUrl,\r\n    title,\r\n    titleColor\r\n  )\r\n\r\n  container.appendChild(centerTitleContainer)\r\n\r\n  let currentAngle = startAngle\r\n\r\n  const formattedItems = formatItems(items, labelColor)\r\n\r\n  if (showGlow) {\r\n    console.log('showGlow')\r\n    const filterElement = createHoverFilter()\r\n    container.appendChild(filterElement)\r\n  }\r\n  formattedItems.forEach((item, index) => {\r\n    const { percentage, id, previousId } = item\r\n    const endAngle = currentAngle + percentageToDegree(percentage)\r\n\r\n    const currentBoxElement = getSliceElement(\r\n      { startAngle: currentAngle, endAngle },\r\n      item,\r\n      {\r\n        x,\r\n        y\r\n      },\r\n      { innerRadius: radius, outerRadius: outerRadius },\r\n      { labelSize, labelColor },\r\n      { id, previousId }\r\n    )\r\n\r\n    container.appendChild(currentBoxElement)\r\n    currentAngle = endAngle\r\n  })\r\n\r\n  if (showAnimation) {\r\n    const borderAnimation = getBorderAnimation(\r\n      { x, y },\r\n      {\r\n        innerRadius: radius,\r\n        outerRadius: outerRadius\r\n      },\r\n      { startAngle, endAngle: currentAngle },\r\n      backgroundColor,\r\n      animationDurationInSeconds\r\n    )\r\n    container.appendChild(borderAnimation)\r\n\r\n    const centerTitleAnimation = getCenterTitleAnimation(\r\n      { x, y },\r\n      radius,\r\n      backgroundColor,\r\n      animationDurationInSeconds\r\n    )\r\n    container.appendChild(centerTitleAnimation)\r\n    centerTitleAnimation.querySelector('animate').onend = () => {\r\n      container.removeChild(centerTitleAnimation)\r\n      container.removeChild(borderAnimation)\r\n    }\r\n  }\r\n\r\n  const root = createSVGRoot(totalSize)\r\n  const styleElement = getChartStyleElement({ showGlow })\r\n  root.appendChild(styleElement)\r\n  root.appendChild(container)\r\n\r\n  return root\r\n}\r\n","import { createElement, createHtmlElement } from '../builder/elements'\r\n\r\nexport const PADDING_RATIO = 0.8\r\nexport function getTitleContainer({ x, y }, radius, imgUrl, title, textColor) {\r\n  // let {x,y} = polarToCartesian(centerX, centerY, radius, 90);\r\n\r\n  const mainElement = createHtmlElement('div', [\r\n    [\r\n      'style',\r\n      'display: table-cell; text-align: center; vertical-align: middle;color:' +\r\n        textColor +\r\n        ';'\r\n    ]\r\n  ])\r\n  const paddedRadius = radius * PADDING_RATIO\r\n\r\n  const imgElement = createHtmlElement('img', [\r\n    ['src', imgUrl],\r\n    ['width', paddedRadius],\r\n    ['height', paddedRadius]\r\n  ])\r\n  const breakElement = createHtmlElement('br', [])\r\n  mainElement.appendChild(imgElement)\r\n  mainElement.appendChild(breakElement)\r\n  mainElement.innerHTML += title\r\n\r\n  const container = createHtmlElement('div', [\r\n    ['style', 'display: table; font-size: 24px; width: 100%; height: 100%;']\r\n  ])\r\n  container.appendChild(mainElement)\r\n\r\n  const paddedX = x - paddedRadius\r\n  const paddedY = y - paddedRadius\r\n  // y = centerY + radius;\r\n  const width = paddedRadius * 2\r\n  const height = paddedRadius * 2\r\n  //  <foreignObject x=\"20\" y=\"20\" width=\"160\" height=\"160\">\r\n  const foreignObject = createElement('foreignObject', [\r\n    ['x', paddedX],\r\n    ['y', paddedY],\r\n    ['width', width],\r\n    ['height', height]\r\n  ])\r\n\r\n  foreignObject.appendChild(container)\r\n\r\n  return foreignObject\r\n}\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { HorseShoeChartCreator } from \"./core/HorseShoeChartCreator\";\r\n\r\nexport const HorseShoeChart = ({ items,options }) => {\r\n\r\n\r\n  const svg = useRef(null);\r\n\r\n\r\n  useEffect(() => {\r\n\r\n\r\n    const result= HorseShoeChartCreator(items,options )\r\n\r\n    if(svg.current){\r\n\r\n\r\n\r\n      if(svg.current.children.length>0){\r\n        svg.current.removeChild(svg.current.children[0])\r\n      }\r\n       svg.current.appendChild(result)\r\n      // svg.current.parentNode.replaceChild(result, svg.current);\r\n    }\r\n\r\n\r\n  }, [items,options])\r\n\r\n  // return   <div dangerouslySetInnerHTML={{ __html: state }} />\r\n  return   <div ref={svg}/>\r\n\r\n\r\n}\r\n","import React from 'react'\n\nimport { HorseShoeChart } from 'react-cropped-doughnut-chart'\nimport 'react-cropped-doughnut-chart/dist/index.css'\n\n\n\nconst AnotherApp = () => {\n\n\n  const defaultItems =[\n    { value:24,color:\"red\",labelColor:\"white\",label:\"High\"},\n    { value:227,color:\"yellow\",labelColor:\"white\",label:\"Medium\"},\n    { value:49,color:\"#00EE00\",label:\"Low\"},\n  ]\n\n  const defaultOptions = {\n    radius: 200,\n    title:\"Issues\",\n    titleColor:\"#FF0000\",\n    thicknessSize:\"S\",\n    gapSize:\"XL\",\n    labelSize:12,\n    showAnimation: false,\n    animationDurationInSeconds:5,\n    labelColor:\"white\",\n    backgroundColor:\"white\",\n    imageUrl:\"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Noun_project_exclamation_icon_620383.svg/512px-Noun_project_exclamation_icon_620383.svg.png?20180327224854\"\n  }\n\n\n  return <div className=\"container\">\n    <HorseShoeChart items={defaultItems} options={defaultOptions} />\n  </div>\n}\n\nexport default AnotherApp\n","import React from 'react'\nimport { useState} from \"react\";\nimport {useFormik} from \"formik\";\nimport * as Yup from \"yup\";\nimport { HorseShoeChart } from 'react-cropped-doughnut-chart'\nimport 'react-cropped-doughnut-chart/dist/index.css'\nimport AnotherApp from \"./AnotherApp\";\n// import { HorseShoeChart } from \"../../src\";\n\n\n\n\nfunction DynamicImage()  {\n  // formik\n  // JSON schema\n\n  //Options\n\n\n  const defaultItems =[\n    { value:24,color:\"red\",labelColor:\"white\",label:\"High\"},\n    { value:227,color:\"yellow\",labelColor:\"white\",label:\"Medium\"},\n    { value:49,color:\"#00EE00\",label:\"Low\"},\n  ]\n\n  const defaultOptions = {\n    radius: 200,\n    title:\"Issues\",\n    titleColor:\"#FF0000\",\n    thicknessSize:\"S\",\n    gapSize:\"XL\",\n    labelSize:12,\n    showAnimation: false,\n    animationDurationInSeconds:5,\n    labelColor:\"white\",\n    backgroundColor:\"white\",\n    imageUrl:\"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Noun_project_exclamation_icon_620383.svg/512px-Noun_project_exclamation_icon_620383.svg.png?20180327224854\",\n\n    items:JSON.stringify(defaultItems)\n  }\n\n  const [items, setItems] = useState(defaultItems);\n  const [options, setOptions] = useState(defaultOptions);\n\n  const availableOptions = {\n    radius: \"any Number\",\n    title:\"any string\",\n    titleColor:\"Color in format #FF0000 or color string\",\n    thicknessSize:\"Any of S,M,L,XL\",\n    gapSize:\"Any of S,M,L,XL\",\n    labelSize:\"Any Number\",\n    labelColor:\"Color in format #FF0000 or color string\",\n    backgroundColor:\"Color in format #FF0000 or color string\",\n    imgUrl:\"Any URL\" ,\n    showAnimation: \"true or false\",\n    animationDurationInSeconds:\"Any Number\",\n    items:\"JSON string with format [ { value:24,color:'red',labelColor:'white'}]\"\n  }\n  //submit\n  const formik = useFormik({\n    initialValues: {\n      ...defaultOptions\n    },\n    onSubmit: values => {\n      console.log('values:', values);\n\n      const updatedOptions = {...values}\n      delete updatedOptions.items\n\n      setOptions(updatedOptions)\n      setItems(JSON.parse(values.items))\n    },\n  });\n\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-6\">\n          <HorseShoeChart items={items} options={options} />\n        </div>\n        <div className=\"col-6\">\n          <h3> Change values to see in action</h3>\n          <form onSubmit={formik.handleSubmit}>\n\n            {Object.keys(defaultOptions).map((key) => (\n               <div className=\"form-group\" key={\"div\" + key}>\n                  <label htmlFor={key}>{key}</label>\n                  <input className=\"form-control\" id={key} name={key} type=\"text\" onChange={formik.handleChange} value={formik.values[key]} />\n                 <small id={key + \"Help\"} className=\"form-text text-muted\">{availableOptions[key]}</small>\n            </div>\n              ))}\n\n          <button type=\"submit\">Submit</button>\n\n          </form>\n        </div>\n\n      </div>\n    </div>\n    )\n\n\n\n}\n\nconst App = () => {\n\n\n\n  return <div className=\"container\">\n\n    <h2>React Doughnut chart demo</h2>\n      <DynamicImage/>\n      <hr/>\n    <AnotherApp></AnotherApp>\n\n  </div>\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}