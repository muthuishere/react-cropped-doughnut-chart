{"version":3,"sources":["../../src/core/calculations.js","../../src/core/elements.js","../../src/core/formatter.js","../../src/core/elementCreator.js","../../src/core/SliceElement.js","../../src/core/DoughnutElement.js","../../src/core/HtmlContainerElement.js","../../src/index.js","App.js","index.js"],"names":["polarToCartesian","centerX","centerY","radius","angleInDegrees","angleInRadians","Math","x","y","drawingCoordinatesBetweenInnerAndOuterCircle","outerRadius","endAngle","startPoint","endPoint","arcSweep","drawingCoordinatesForTextPosition","startAngle","innerRadius","createElement","name","attribs","svgElem","document","createHtmlElement","element","colors","formatLabel","item","label","value","formatColor","index","color","formatItems","inputItems","defaultLabelColor","items","isAllNumbers","currentValue","formatToArrayOfObjects","Error","total","acc","percentage","labelColor","formatLabelColor","createArc","containerAttributes","point","angles","innerArc","innerArcData","drawingCoordinatesinCircle","getTextElements","textId","textPositionPathElement","innerAndOuterRadius","textPathDefinitionElement","pathToDrawTextElement","drawingCoordinatesForText","createTextDefinition","textElement","textPathElement","str","createTextElement","labelSize","getSliceElement","id","container","titleElement","arc","animateElement","createArcForSlice","createArcForOverAllContainer","className","thicknessWithRatio","XXL","XL","L","M","S","sizeWithAngles","DoughnutElement","options","styleSheet","insertStyles","formattedOptions","title","titleColor","thicknessSize","gapSize","backgroundColor","imgUrl","thicknessOfCircle","totalSize","sizeWithAngle","outerArc","initAngle","formattedItems","currentBoxElement","htmlContainerElement","mainElement","paddedRadius","imgElement","breakElement","foreignObject","getHtmlContainerElement","backgroundCircle","getCircle","root","CroppedDoughnutChart","svg","useRef","useEffect","result","ref","App","items2","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.75121632.chunk.js","sourcesContent":["export function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n  /**\n   * Convert a polar coordinate (r,theta) to cartesian (x,y). The calculations are x=r*cos(theta) and y=r*sin(theta).\n   * This Method is used in the DoughnutChart. to calculate the x,y position from center of a sliceElement.\n   * Usually in Math the origin is Zero, Since the center of the doughnut is the origin, the centerX and centerY are added to the result.\n   * @param centerX - Center of Circle X\n   * @param centerY - Center of Circle Y\n   * @param radius  - Radius of Circle\n   * @param angleInDegrees - Angle in Degrees\n   * @returns {{x: *, y: *}}\n   */\n  var angleInRadians = ((angleInDegrees - 90) * Math.PI) / 180.0\n\n  return {\n    x: centerX + radius * Math.cos(angleInRadians),\n    y: centerY + radius * Math.sin(angleInRadians)\n  }\n}\n\n/**\n * Get Drawing Coordinates for an Arc , The arc is a fully closed area in a circle\n *  The arc is drawn from the startAngle to the endAngle\n * The arc is drawn in the clockwise direction\n * @param x - Center of Circle X\n * @param y - Center of Circle Y\n * @param startAngle - Start Angle in Degrees\n * @param endAngle - End Angle in Degrees\n * @param radius - Radius of Circle\n */\nexport function drawingCoordinatesinCircle(\n  { x, y },\n  { startAngle, endAngle },\n  radius\n) {\n  const startPoint = polarToCartesian(x, y, radius, startAngle)\n  const endPoint = polarToCartesian(x, y, radius, endAngle)\n\n  const arcSweep = endAngle - startAngle <= 180 ? '0' : '1'\n\n  const d = [\n    'M',    endPoint.x,    endPoint.y,\n    'A',    radius,    radius,    0,    arcSweep,    0,    startPoint.x,    startPoint.y,\n    'L',    x,    y,\n    'L',    endPoint.x,    endPoint.y\n  ].join(' ')\n\n  return d\n}\n\nexport function drawingCoordinatesBetweenInnerAndOuterCircle(\n  { innerRadius, outerRadius },\n  { startAngle, endAngle },\n  { x, y }\n) {\n  const middleRadius = innerRadius + (outerRadius - innerRadius) / 2\n\n  const drawingCoordinatesForText = drawingCoordinatesForTextPosition(\n    { x, y },\n    {\n      startAngle,\n      endAngle: endAngle\n    },\n    middleRadius\n  )\n  return drawingCoordinatesForText\n}\n\n\nexport function drawingCoordinatesForTextPosition(\n  { x, y },\n  { startAngle, endAngle },\n  radius\n) {\n  const startPoint = polarToCartesian(x, y, radius, startAngle)\n  const endPoint = polarToCartesian(x, y, radius, endAngle)\n\n  const arcSweep = endAngle - startAngle <= 180 ? '0' : '1'\n\n  const d = [\n    'M',    endPoint.x,    endPoint.y,\n    'A',    radius,    radius,    0,    arcSweep,    0,    startPoint.x,    startPoint.y\n\n  ].join(' ')\n\n  return d\n}\n","import { drawingCoordinatesinCircle } from \"./calculations\";\n\nexport const SVG_NAMESPACE = 'http://www.w3.org/2000/svg'\nexport function createElement(name, attribs) {\n  const xmlns = SVG_NAMESPACE\n  const svgElem = document.createElementNS(xmlns, name)\n\n  attribs.forEach(([name, value]) => svgElem.setAttributeNS(null, name, value))\n\n  return svgElem\n}\n\nexport function createHtmlElement(name, attribs) {\n  const element = document.createElement(name)\n\n  attribs.forEach(([name, value]) => element.setAttribute(name, value))\n\n  return element\n}\n\n\nexport function setAttributeForSvg(element, name, value) {\n  element.setAttributeNS(null, name, value)\n}\n\n\n\nexport function insertStyles() {\n  if(document.head.querySelector(\"#doughnut-cropped-chart-styles\")) {\n    return\n  }\n  var styles = `\n        a:hover .path-container {\n            opacity: 0.5;\n            transition: all ease 0.3s;\n        }\n        a .path-container {\n            opacity: 1.0;\n            transition: all ease 0.3s;\n        }\n`\n\n  var styleSheet = document.createElement('style')\n  styleSheet.setAttribute('type', 'text/css')\n  styleSheet.setAttribute('id', 'doughnut-cropped-chart-styles')\n\n  styleSheet.innerHTML = styles\n  document.head.appendChild(styleSheet)\n}\n\n","const colors = [\n  '#FF0000',\n  '#FF7F00',\n  '#FFFF00',\n  '#00FF00',\n  '#00FFFF',\n  '#0000FF',\n  '#8B00FF'\n]\nfunction formatLabel(item) {\n  const { label } = item\n  if (label) return item\n  else\n    return {\n      ...item,\n      label: `${item.value}`\n    }\n}\n\nfunction formatColor(item, index) {\n  const { color } = item\n  if (color) return item\n  else\n    return {\n      ...item,\n      color: colors[index]\n    }\n}\n\nexport function formatToArrayOfObjects(inputItems) {\n  const isNumber = (currentValue) => typeof currentValue === 'number'\n  const isAllNumbers = inputItems.every(isNumber)\n  let items = inputItems\n  if (isAllNumbers) {\n    items = inputItems.map((item) => ({ value: item }))\n  }\n  return items\n}\nexport function reverseString(str) {\n  return str.split(\"\").reverse().join(\"\");\n}\nexport function formatItems(inputItems, defaultLabelColor) {\n  const items = formatToArrayOfObjects(inputItems)\n\n  const hasValueProperty = (currentValue) => null != currentValue.value\n  const isAllValid = items.every(hasValueProperty)\n  if (!isAllValid) {\n    throw new Error('Invalid Data Found, All items must have a value property')\n  }\n\n\n  const formatLabelColorWithDefault =(item)=>formatLabelColor(item, defaultLabelColor)\n\n  const total = items.reduce((acc, item) => acc + item.value, 0)\n  return items\n    .map((item) => ({\n      ...item,\n      percentage: (item.value / total) * 100\n    }))\n    .map(formatLabel)\n    .map(formatColor)\n    .map(formatLabelColorWithDefault)\n}\n function formatLabelColor(item,defaultLabelColor) {\n\n  return {\n      ...{labelColor:defaultLabelColor},\n      ...item\n    }\n\n}\n\n","import { drawingCoordinatesinCircle } from \"./calculations\";\nimport { createElement } from \"./elements\";\n\nexport function createArc(containerAttributes, point, angles, radius) {\n  const innerArc = createElement(\"path\", containerAttributes);\n  const innerArcData = drawingCoordinatesinCircle(point, angles, radius);\n  innerArc.setAttributeNS(null, \"d\", innerArcData);\n  return innerArc;\n}\n","import { createElement } from './elements'\nimport {\n  drawingCoordinatesBetweenInnerAndOuterCircle\n\n} from './calculations'\nimport { reverseString } from './formatter'\nimport { createArc } from './elementCreator'\nfunction createArcForSlice(point, angles, radius, color) {\n  const containerAttributes = [\n    ['fill', color],\n    ['stroke', 'none'],\n    ['class', 'path-container'],\n    ['stroke-width', '0']\n  ]\n  const arc = createArc(containerAttributes, point, angles, radius);\n  const animateElement = createElement('animate', [\n    ['attributeName', 'fill'],\n    ['attributeType', 'XML'],\n    ['from', 'black'],\n    ['to', color],\n    ['dur', '2s'],\n    ['repeatCount', '1']\n\n\n  ]);\n  // <animateColor attributeName=\"fill\" attributeType=\"XML\"\n  //               from=\"black\" to=\"red\" dur=\"6s\" repeatCount=\"indefinite\"/>\n  arc.appendChild(animateElement);\n  return arc\n}\n\nfunction createTextDefinition(textId, innerAndOuterRadius, angles, point) {\n  const textPathDefinitionElement = createElement('defs', [])\n\n  const pathToDrawTextElement = createElement('path', [\n    ['id', textId],\n    ['stroke-width', '0']\n  ])\n  textPathDefinitionElement.appendChild(pathToDrawTextElement)\n  const drawingCoordinatesForText =\n    drawingCoordinatesBetweenInnerAndOuterCircle(\n      innerAndOuterRadius,\n      angles,\n      point\n    )\n  pathToDrawTextElement.setAttributeNS(null, 'd', drawingCoordinatesForText)\n  return textPathDefinitionElement\n}\n\nfunction createTextElement(textId, { label, labelSize, labelColor }) {\n  const textElement = createElement('text', [\n    ['font-size', labelSize + 'px'],\n    ['fill', labelColor],\n    ['rotate', '180']\n  ])\n  const textPathElement = createElement('textPath', [\n    ['href', '#' + textId],\n    ['text-anchor', 'middle'],\n    ['startOffset', '50%']\n  ])\n\n  // 180 degree reverses stuff\n  textPathElement.innerHTML = reverseString(label)\n  textElement.appendChild(textPathElement)\n  return textElement\n}\n\nfunction getTextElements(\n  id,\n  { label, labelSize, labelColor },\n  innerAndOuterRadius,\n  angles,\n  point\n) {\n  const textId = 'text' + id\n  const textPositionPathElement = createTextDefinition(\n    textId,\n    innerAndOuterRadius,\n    angles,\n    point\n  )\n  const textElement = createTextElement(textId, {\n    label,\n    labelSize,\n    labelColor\n  })\n\n  return {\n    textPositionPathElement,\n    textElement\n  }\n}\nexport function getRandomSixDigitString() {\n  const str = '' + Math.floor(Math.random() * (999999 - 1)) + 1\n  return str.padStart(6, '0')\n}\n\n// export function sliceElement(\n//   { startAngle, endAngle },\n//   { label, item, color },\n//   { x, y },\n//   { innerRadius, outerRadius }\n// )\n\nexport function getSliceElement(\n  angles,\n  { label, value, color,labelColor },\n  point,\n  { innerRadius, outerRadius },\n  { labelSize }\n) {\n  const id = 'box' + value + getRandomSixDigitString()\n  const container = createElement('a', [\n    ['id', 'container' + id],\n    ['href', '#'],\n    ['style', 'text-decoration: none;']\n  ])\n\n    //<title>I'm a circle</title>\n  const titleElement = createElement('title', [])\n  titleElement.innerHTML = label;\n\n  container.appendChild(titleElement)\n  const arc = createArcForSlice(point, angles, outerRadius, color)\n\n  container.appendChild(arc)\n  const { textPositionPathElement, textElement } = getTextElements(\n    id,\n    { label, labelSize, labelColor },\n    { innerRadius, outerRadius },\n    angles,\n    point\n  )\n  container.appendChild(textPositionPathElement)\n  container.appendChild(textElement);\n\n\n  return container\n}\n","import { createElement, insertStyles } from \"./elements\";\nimport { getHtmlContainerElement } from './HtmlContainerElement'\nimport { getSliceElement } from './SliceElement'\nimport { formatItems } from './formatter'\nimport { createArc } from './elementCreator'\n\nfunction createArcForOverAllContainer(className, point, angles, radius) {\n  const containerAttributes = [\n    ['fill', 'none'],\n    ['stroke', 'none'],\n    ['class', className],\n    ['stroke-width', '0']\n  ]\n  return createArc(containerAttributes, point, angles, radius)\n}\n\nconst thicknessWithRatio = {\n  XXL: 125,\n  XL: 100,\n  L: 75,\n  M: 50,\n  S: 35\n}\n\nconst sizeWithAngles = {\n  XXL: [261, 460],\n  XL: [241, 480],\n  L: [221, 500],\n  M: [201, 520],\n  S: [181, 540]\n}\nconst colors = [\n  '#FF0000',\n  '#FF7F00',\n  '#FFFF00',\n  '#00FF00',\n  '#00FFFF',\n  '#0000FF',\n  '#8B00FF'\n]\n\nfunction getCircle({ x, y }, radius, defaultcolor) {\n  return createElement('circle', [\n    ['cx', x],\n    ['cy', y],\n    ['r', radius],\n    ['fill', defaultcolor]\n  ])\n}\n\nexport function DoughnutElement(items, options) {\n  insertStyles()\n  const defaultOptions = {\n    radius: 100,\n    title: '',\n    titleColor: '#FF0000',\n    thicknessSize: 'M',\n    gapSize: 'XL',\n    labelSize: 12,\n    labelColor: 'white',\n    backgroundColor: 'white',\n    imgUrl:\n      'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'\n  }\n\n  const formattedOptions = { ...defaultOptions, ...options }\n\n  const {\n    radius,\n    title,\n    thicknessSize,\n    gapSize,\n    backgroundColor,\n    imgUrl,\n    titleColor,\n    labelSize,\n    labelColor\n  } = formattedOptions\n  const thicknessOfCircle = thicknessWithRatio[thicknessSize]\n  const totalSize = (radius + thicknessOfCircle) * 2\n  const x = totalSize / 2\n  const y = totalSize / 2\n  const outerRadius = radius + thicknessOfCircle\n  const sizeWithAngle = sizeWithAngles[gapSize]\n  const [startAngle, endAngle] = sizeWithAngle\n  const total = (endAngle - startAngle) / 100\n  const percentageToDegree = (percent) => percent * total\n\n  const container = createElement('g', [])\n  const innerArc = createArcForOverAllContainer(\n    'overall-inner-container',\n    { x, y },\n    { startAngle, endAngle },\n    radius\n  )\n  const outerArc = createArcForOverAllContainer(\n    'overall-outer-container',\n    { x, y },\n    { startAngle, endAngle },\n    outerRadius\n  )\n\n  container.appendChild(outerArc)\n  container.appendChild(innerArc)\n\n  let initAngle = startAngle\n\n  const formattedItems = formatItems(items, labelColor)\n\n  formattedItems.forEach((item, index) => {\n    const { label, value, color, percentage } = item\n\n    const endAngle = initAngle + percentageToDegree(percentage)\n\n    const currentBoxElement = getSliceElement(\n      { startAngle: initAngle, endAngle },\n      item,\n      { x, y },\n      { innerRadius: radius, outerRadius: outerRadius },\n      { labelSize, labelColor }\n    )\n\n    container.appendChild(currentBoxElement)\n    initAngle = endAngle\n  })\n\n  const htmlContainerElement = getHtmlContainerElement(\n    { x, y },\n    radius,\n    imgUrl,\n    title,\n    titleColor\n  )\n  const backgroundCircle = getCircle({ x, y }, radius, backgroundColor)\n\n  container.appendChild(backgroundCircle)\n  container.appendChild(htmlContainerElement)\n\n  const root = createElement('svg', [\n    ['width', totalSize],\n    ['height', totalSize]\n  ])\n  root.appendChild(container)\n  // return root.outerHTML\n  return root\n}\n","import { createElement, createHtmlElement } from './elements'\n\nexport const PADDING_RATIO = 0.8\nexport function getHtmlContainerElement({ x, y }, radius, imgUrl, title, textColor) {\n  // let {x,y} = polarToCartesian(centerX, centerY, radius, 90);\n\n  const mainElement = createHtmlElement('div', [\n    [\n      'style',\n      'display: table-cell; text-align: center; vertical-align: middle;color:' +\n        textColor +\n        ';'\n    ]\n  ])\n  const paddedRadius = radius * PADDING_RATIO\n\n  const imgElement = createHtmlElement('img', [\n    ['src', imgUrl],\n    ['width', paddedRadius],\n    ['height', paddedRadius]\n  ])\n  const breakElement = createHtmlElement('br', [])\n  mainElement.appendChild(imgElement)\n  mainElement.appendChild(breakElement)\n  mainElement.innerHTML += title\n\n  const container = createHtmlElement('div', [\n    ['style', 'display: table; font-size: 24px; width: 100%; height: 100%;']\n  ])\n  container.appendChild(mainElement)\n\n  const paddedX = x - paddedRadius\n  const paddedY = y - paddedRadius\n  // y = centerY + radius;\n  const width = paddedRadius * 2\n  const height = paddedRadius * 2\n  //  <foreignObject x=\"20\" y=\"20\" width=\"160\" height=\"160\">\n  const foreignObject = createElement('foreignObject', [\n    ['x', paddedX],\n    ['y', paddedY],\n    ['width', width],\n    ['height', height]\n  ])\n\n  foreignObject.appendChild(container)\n\n  return foreignObject\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { DoughnutElement } from \"./core/DoughnutElement\";\n\nexport const CroppedDoughnutChart = ({ items,options }) => {\n\n\n  const svg = useRef(null);\n\n\n  useEffect(() => {\n\n\n\n\n    const result= DoughnutElement(items,options )\n\n    if(svg.current){\n      svg.current.appendChild(result)\n    }\n\n\n  }, [])\n\n  // return   <div dangerouslySetInnerHTML={{ __html: state }} />\n  return   <div ref={svg}/>\n\n\n}\n","import React from 'react'\n\nimport { CroppedDoughnutChart } from 'react-cropped-doughnut-chart'\nimport 'react-cropped-doughnut-chart/dist/index.css'\n\n\nconst App = () => {\n\n\n  const items =[\n    { value:24,color:\"red\"},\n    { value:227,color:\"blue\"},\n    { value:49,color:\"pink\"},\n  ]\n  const items2 =[\n    { value:4659,color:\"green\",labelColor:\"white\"},\n    { value:701,color:\"red\"},\n    { value:500,color:\"yellow\"},\n\n  ]\n  const items3 =[\n    { value:124,color:\"red\"},\n    { value:27,color:\"blue\"},\n    { value:149,color:\"pink\",labelColor:\"black\"},\n  ]\n  let options = {\n    radius: 100,\n    title:\"Halo\",\n    titleColor:\"#FF0000\",\n    thicknessSize:\"M\",\n    gapSize:\"XL\",\n    labelSize:12,\n    labelColor:\"white\",\n    backgroundColor:\"white\",\n    imgUrl:\"https://www.w3schools.com/html/pic_trulli.jpg\" };\n\n\n  return <div className=\"container\">\n    <CroppedDoughnutChart items={items} options={options} />\n    <hr/>\n    <CroppedDoughnutChart items={items2}  />\n    <hr/>\n    <CroppedDoughnutChart items={items2}  />\n  </div>\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}